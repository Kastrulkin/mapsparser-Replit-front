--- TABLES IN src/reports.db ---
Table: AIAgents
  - id (TEXT)
  - name (TEXT)
  - type (TEXT)
  - description (TEXT)
  - personality (TEXT)
  - states_json (TEXT)
  - workflow (TEXT)
  - task (TEXT)
  - identity (TEXT)
  - speech_style (TEXT)
  - restrictions_json (TEXT)
  - variables_json (TEXT)
  - is_active (INTEGER)
  - created_by (TEXT)
  - created_at (TIMESTAMP)
  - updated_at (TIMESTAMP)

Table: AIPrompts
  - id (TEXT)
  - prompt_type (TEXT)
  - prompt_text (TEXT)
  - description (TEXT)
  - updated_at (TIMESTAMP)
  - updated_by (TEXT)

Table: BusinessMapLinks
  - id (TEXT)
  - user_id (TEXT)
  - business_id (TEXT)
  - url (TEXT)
  - map_type (TEXT)
  - created_at (TIMESTAMP)

Table: BusinessMetricsHistory
  - id (TEXT)
  - business_id (TEXT)
  - metric_date (DATE)
  - rating (FLOAT)
  - reviews_count (INTEGER)
  - photos_count (INTEGER)
  - news_count (INTEGER)
  - source (TEXT)
  - created_at (TIMESTAMP)

Table: BusinessOptimizationWizard
  - id (TEXT)
  - business_id (TEXT)
  - card_url (TEXT)
  - rating (REAL)
  - reviews_count (INTEGER)
  - photo_update_frequency (TEXT)
  - news_enabled (TEXT)
  - news_frequency (TEXT)
  - current_services_text (TEXT)
  - preferences_like (TEXT)
  - preferences_dislike (TEXT)
  - favorite_formulations (TEXT)
  - selected_service_formulations (TEXT)
  - business_age (TEXT)
  - regular_clients_count (INTEGER)
  - crm_system (TEXT)
  - location_type (TEXT)
  - average_check (DECIMAL(10,2))
  - monthly_revenue (DECIMAL(10,2))
  - card_preferences_text (TEXT)
  - wizard_completed (BOOLEAN)
  - created_at (TIMESTAMP)
  - updated_at (TIMESTAMP)
  - step (INTEGER)

Table: BusinessProfiles
  - id (TEXT)
  - business_id (TEXT)
  - contact_name (TEXT)
  - contact_phone (TEXT)
  - contact_email (TEXT)
  - created_at (TIMESTAMP)
  - updated_at (TIMESTAMP)

Table: BusinessTypes
  - id (TEXT)
  - type_key (TEXT)
  - label (TEXT)
  - description (TEXT)
  - is_active (INTEGER)
  - created_at (TIMESTAMP)
  - alert_threshold_news_days (INTEGER)
  - alert_threshold_photos_days (INTEGER)
  - alert_threshold_reviews_days (INTEGER)

Table: Businesses
  - id (TEXT)
  - name (TEXT)
  - description (TEXT)
  - industry (TEXT)
  - business_type (TEXT)
  - address (TEXT)
  - working_hours (TEXT)
  - phone (TEXT)
  - email (TEXT)
  - website (TEXT)
  - owner_id (TEXT)
  - is_active (BOOLEAN)
  - created_at (TIMESTAMP)
  - updated_at (TIMESTAMP)
  - network_id (TEXT)
  - yandex_org_id (TEXT)
  - yandex_url (TEXT)
  - yandex_rating (FLOAT)
  - yandex_reviews_total (INTEGER)
  - yandex_reviews_30d (INTEGER)
  - yandex_last_sync (TIMESTAMP)
  - latitude (REAL)
  - longitude (REAL)
  - subscription_tier (TEXT)
  - subscription_status (TEXT)
  - city (TEXT)
  - country (TEXT)
  - timezone (TEXT)
  - working_hours_json (TEXT)
  - waba_phone_id (TEXT)
  - waba_access_token (TEXT)
  - whatsapp_phone (TEXT)
  - whatsapp_verified (INTEGER)
  - telegram_bot_token (TEXT)
  - ai_agent_enabled (INTEGER)
  - ai_agent_type (TEXT)
  - ai_agent_id (TEXT)
  - ai_agent_tone (TEXT)
  - ai_agent_restrictions (TEXT)
  - ai_agent_language (TEXT)

Table: ClientInfo
  - user_id (TEXT)
  - business_id (TEXT)
  - business_name (TEXT)
  - business_type (TEXT)
  - address (TEXT)
  - working_hours (TEXT)
  - description (TEXT)
  - services (TEXT)
  - updated_at (TIMESTAMP)

Table: ExternalBusinessAccounts
  - id (TEXT)
  - business_id (TEXT)
  - source (TEXT)
  - external_id (TEXT)
  - display_name (TEXT)
  - auth_data_encrypted (TEXT)
  - is_active (INTEGER)
  - last_sync_at (TIMESTAMP)
  - last_error (TEXT)
  - created_at (TIMESTAMP)
  - updated_at (TIMESTAMP)

Table: ExternalBusinessPhotos
  - id (TEXT)
  - business_id (TEXT)
  - account_id (TEXT)
  - source (TEXT)
  - external_photo_id (TEXT)
  - url (TEXT)
  - thumbnail_url (TEXT)
  - uploaded_at (TIMESTAMP)
  - raw_payload (TEXT)
  - created_at (TIMESTAMP)
  - updated_at (TIMESTAMP)

Table: ExternalBusinessPosts
  - id (TEXT)
  - business_id (TEXT)
  - account_id (TEXT)
  - source (TEXT)
  - external_post_id (TEXT)
  - title (TEXT)
  - text (TEXT)
  - published_at (TIMESTAMP)
  - image_url (TEXT)
  - raw_payload (TEXT)
  - created_at (TIMESTAMP)
  - updated_at (TIMESTAMP)

Table: ExternalBusinessReviews
  - id (TEXT)
  - business_id (TEXT)
  - source (TEXT)
  - external_review_id (TEXT)
  - rating (INTEGER)
  - author_name (TEXT)
  - text (TEXT)
  - published_at (TIMESTAMP)
  - response_text (TEXT)
  - response_at (TIMESTAMP)
  - raw_payload (TEXT)
  - created_at (TIMESTAMP)
  - updated_at (TIMESTAMP)

Table: ExternalBusinessStats
  - id (TEXT)
  - business_id (TEXT)
  - source (TEXT)
  - date (TEXT)
  - views_total (INTEGER)
  - clicks_total (INTEGER)
  - actions_total (INTEGER)
  - rating (REAL)
  - reviews_total (INTEGER)
  - raw_payload (TEXT)
  - created_at (TIMESTAMP)
  - updated_at (TIMESTAMP)

Table: FinancialMetrics
  - id (TEXT)
  - business_id (TEXT)
  - metric_name (TEXT)
  - metric_value (REAL)
  - period (TEXT)
  - created_at (TIMESTAMP)

Table: FinancialTransactions
  - id (TEXT)
  - business_id (TEXT)
  - amount (REAL)
  - description (TEXT)
  - transaction_type (TEXT)
  - date (DATE)
  - created_at (TIMESTAMP)
  - client_type (TEXT)
  - master_id (TEXT)
  - user_id (TEXT)
  - transaction_date (DATE)
  - services (TEXT)
  - notes (TEXT)

Table: GrowthStages
  - id (TEXT)
  - business_type_id (TEXT)
  - stage_number (INTEGER)
  - title (TEXT)
  - description (TEXT)
  - goal (TEXT)
  - expected_result (TEXT)
  - duration (TEXT)
  - is_permanent (INTEGER)
  - tasks (TEXT)
  - created_at (TIMESTAMP)

Table: GrowthTasks
  - id (TEXT)
  - stage_id (TEXT)
  - task_number (INTEGER)
  - task_text (TEXT)
  - created_at (TIMESTAMP)
  - updated_at (TIMESTAMP)
  - check_logic (TEXT)
  - reward_value (INTEGER)
  - reward_type (TEXT)
  - tooltip (TEXT)
  - link_url (TEXT)
  - link_text (TEXT)
  - is_auto_verifiable (INTEGER)

Table: MapParseResults
  - id (TEXT)
  - business_id (TEXT)
  - url (TEXT)
  - map_type (TEXT)
  - rating (TEXT)
  - reviews_count (INTEGER)
  - news_count (INTEGER)
  - photos_count (INTEGER)
  - report_path (TEXT)
  - created_at (TIMESTAMP)
  - products (TEXT)
  - unanswered_reviews_count (INTEGER)
  - is_verified (INTEGER)
  - phone (TEXT)
  - website (TEXT)
  - messengers (TEXT)
  - working_hours (TEXT)
  - services_count (INTEGER)
  - profile_completeness (INTEGER)
  - analysis_json (TEXT)
  - title (TEXT)
  - address (TEXT)

Table: Masters
  - id (TEXT)
  - business_id (TEXT)
  - name (TEXT)
  - phone (TEXT)
  - email (TEXT)
  - specialization (TEXT)
  - is_active (BOOLEAN)
  - created_at (TIMESTAMP)
  - updated_at (TIMESTAMP)

Table: Networks
  - id (TEXT)
  - name (TEXT)
  - owner_id (TEXT)
  - description (TEXT)
  - created_at (TIMESTAMP)
  - updated_at (TIMESTAMP)

Table: ParseQueue
  - id (TEXT)
  - url (TEXT)
  - user_id (TEXT)
  - business_id (TEXT)
  - task_type (TEXT)
  - account_id (TEXT)
  - source (TEXT)
  - status (TEXT)
  - retry_after (TEXT)
  - error_message (TEXT)
  - created_at (TIMESTAMP)
  - updated_at (TIMESTAMP)

Table: PricelistOptimizations
  - id (TEXT)
  - user_id (TEXT)
  - original_file_path (TEXT)
  - optimized_data (TEXT)
  - services_count (INTEGER)
  - created_at (TIMESTAMP)
  - expires_at (TIMESTAMP)

Table: ProspectingLeads
  - id (TEXT)
  - name (TEXT)
  - address (TEXT)
  - phone (TEXT)
  - website (TEXT)
  - rating (REAL)
  - reviews_count (INTEGER)
  - source_url (TEXT)
  - google_id (TEXT)
  - category (TEXT)
  - location (TEXT)
  - status (TEXT)
  - created_at (TIMESTAMP)
  - updated_at (TIMESTAMP)

Table: ProxyServers
  - id (TEXT)
  - proxy_type (TEXT)
  - host (TEXT)
  - port (INTEGER)
  - username (TEXT)
  - password (TEXT)
  - is_active (INTEGER)
  - last_used_at (TIMESTAMP)
  - last_checked_at (TIMESTAMP)
  - success_count (INTEGER)
  - failure_count (INTEGER)
  - is_working (INTEGER)
  - created_at (TIMESTAMP)
  - updated_at (TIMESTAMP)

Table: ROIData
  - id (TEXT)
  - user_id (TEXT)
  - investment_amount (DECIMAL(10,2))
  - returns_amount (DECIMAL(10,2))
  - roi_percentage (DECIMAL(5,2))
  - period_start (DATE)
  - period_end (DATE)
  - created_at (TIMESTAMP)

Table: ReviewExchangeDistribution
  - id (TEXT)
  - sender_participant_id (TEXT)
  - receiver_participant_id (TEXT)
  - sent_at (TIMESTAMP)

Table: ReviewExchangeParticipants
  - id (TEXT)
  - telegram_id (TEXT)
  - telegram_username (TEXT)
  - name (TEXT)
  - phone (TEXT)
  - business_name (TEXT)
  - business_address (TEXT)
  - business_url (TEXT)
  - review_request (TEXT)
  - consent_personal_data (INTEGER)
  - subscribed_to_channel (INTEGER)
  - is_active (INTEGER)
  - created_at (TIMESTAMP)
  - updated_at (TIMESTAMP)

Table: SyncQueue
  - id (TEXT)
  - business_id (TEXT)
  - account_id (TEXT)
  - source (TEXT)
  - status (TEXT)
  - error_message (TEXT)
  - created_at (TIMESTAMP)
  - updated_at (TIMESTAMP)

Table: TelegramBindTokens
  - id (TEXT)
  - user_id (TEXT)
  - token (TEXT)
  - expires_at (TIMESTAMP)
  - used (BOOLEAN)
  - created_at (TIMESTAMP)
  - business_id (TEXT)

Table: UserExamples
  - id (TEXT)
  - user_id (TEXT)
  - example_type (TEXT)
  - example_text (TEXT)
  - created_at (TIMESTAMP)

Table: UserLoginHistory
  - id (TEXT)
  - user_id (TEXT)
  - ip_address (TEXT)
  - user_agent (TEXT)
  - created_at (TIMESTAMP)

Table: UserNews
  - id (TEXT)
  - user_id (TEXT)
  - service_id (TEXT)
  - source_text (TEXT)
  - generated_text (TEXT)
  - approved (INTEGER)
  - created_at (TIMESTAMP)

Table: UserServices
  - id (TEXT)
  - business_id (TEXT)
  - name (TEXT)
  - description (TEXT)
  - category (TEXT)
  - keywords (TEXT)
  - price (TEXT)
  - is_active (BOOLEAN)
  - created_at (TIMESTAMP)
  - updated_at (TIMESTAMP)
  - user_id (TEXT)

Table: UserSessions
  - id (TEXT)
  - user_id (TEXT)
  - token (TEXT)
  - expires_at (TIMESTAMP)
  - created_at (TIMESTAMP)
  - ip_address (TEXT)
  - user_agent (TEXT)

Table: UserTokenAccess
  - user_id (TEXT)
  - tokens_paused (BOOLEAN)
  - paused_at (TIMESTAMP)
  - paused_reason (TEXT)

Table: Users
  - id (TEXT)
  - email (TEXT)
  - name (TEXT)
  - phone (TEXT)
  - password_hash (TEXT)
  - is_superadmin (BOOLEAN)
  - created_at (TIMESTAMP)
  - updated_at (TIMESTAMP)
  - is_active (BOOLEAN)
  - is_verified (BOOLEAN)
  - telegram_id (TEXT)
  - reset_token (TEXT)
  - reset_token_expires (TIMESTAMP)

Table: WordstatKeywords
  - id (TEXT)
  - keyword (TEXT)
  - views (INTEGER)
  - category (TEXT)
  - updated_at (TIMESTAMP)

Table: YandexBusinessStats
  - id (TEXT)
  - business_id (TEXT)
  - date (DATE)
  - rating (FLOAT)
  - reviews_total (INTEGER)
  - reviews_30d (INTEGER)
  - fetched_at (TIMESTAMP)

