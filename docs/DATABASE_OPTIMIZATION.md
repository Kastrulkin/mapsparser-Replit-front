# –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

## –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (25 —Ç–∞–±–ª–∏—Ü)

### ‚úÖ –ê–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–∞–±–ª–∏—Ü—ã (11)
- **Users** (4 –∑–∞–ø–∏—Å–∏) - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- **Businesses** (8 –∑–∞–ø–∏—Å–µ–π) - –±–∏–∑–Ω–µ—Å—ã
- **UserSessions** (5 –∑–∞–ø–∏—Å–µ–π) - —Å–µ—Å—Å–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **UserServices** (32 –∑–∞–ø–∏—Å–∏) - —É—Å–ª—É–≥–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **FinancialTransactions** (3 –∑–∞–ø–∏—Å–∏) - —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- **PricelistOptimizations** (3 –∑–∞–ø–∏—Å–∏) - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–∞–π—Å-–ª–∏—Å—Ç–æ–≤
- **TelegramBindTokens** (1 –∑–∞–ø–∏—Å—å) - —Ç–æ–∫–µ–Ω—ã –ø—Ä–∏–≤—è–∑–∫–∏ Telegram
- **BusinessMapLinks** (1 –∑–∞–ø–∏—Å—å) - —Å—Å—ã–ª–∫–∏ –Ω–∞ –∫–∞—Ä—Ç—ã
- **UserNews** (2 –∑–∞–ø–∏—Å–∏) - –Ω–æ–≤–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### ‚ö†Ô∏è Legacy —Ç–∞–±–ª–∏—Ü—ã (–º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏)
- **Cards** (1 –∑–∞–ø–∏—Å—å) - —Å—Ç–∞—Ä—ã–µ –æ—Ç—á—ë—Ç—ã ‚Üí –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ MapParseResults
- **ClientInfo** (1 –∑–∞–ø–∏—Å—å) - legacy –¥–∞–Ω–Ω—ã–µ ‚Üí –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ Businesses

### üìä –ü—É—Å—Ç—ã–µ —Ç–∞–±–ª–∏—Ü—ã (14) - –º–æ–∂–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å

#### –ù–æ–≤—ã–µ —Ç–∞–±–ª–∏—Ü—ã (–æ—Å—Ç–∞–≤–∏—Ç—å, –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è):
- **ParseQueue** (0) - –æ—á–µ—Ä–µ–¥—å –ø–∞—Ä—Å–∏–Ω–≥–∞ ‚úÖ
- **MapParseResults** (0) - —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–∞—Ä—Å–∏–Ω–≥–∞ –∫–∞—Ä—Ç ‚úÖ
- **Networks** (0) - —Å–µ—Ç–∏ –±–∏–∑–Ω–µ—Å–æ–≤ ‚úÖ
- **Masters** (0) - –º–∞—Å—Ç–µ—Ä–∞ ‚úÖ
- **ROIData** (0) - –¥–∞–Ω–Ω—ã–µ ROI ‚úÖ
- **FinancialMetrics** (0) - –∫–µ—à –º–µ—Ç—Ä–∏–∫ ‚úÖ
- **BusinessOptimizationWizard** (0) - –º–∞—Å—Ç–µ—Ä –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ ‚úÖ

#### –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–∞–±–ª–∏—Ü—ã (–º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å):
- **GigaChatTokenUsage** (0) - –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- **UserTokenAccess** (0) - –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- **UserLoginHistory** (0) - –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- **YandexBusinessStats** (0) - –¥—É–±–ª–∏—Ä—É–µ—Ç MapParseResults
- **UserNewsExamples** (0) - –º–æ–∂–Ω–æ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å
- **UserReviewExamples** (0) - –º–æ–∂–Ω–æ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å
- **UserServiceExamples** (0) - –º–æ–∂–Ω–æ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å

## –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### 1. –û–±—ä–µ–¥–∏–Ω–∏—Ç—å —Ç–∞–±–ª–∏—Ü—ã –ø—Ä–∏–º–µ—Ä–æ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- `UserNewsExamples` - –ø—Ä–∏–º–µ—Ä—ã –Ω–æ–≤–æ—Å—Ç–µ–π
- `UserReviewExamples` - –ø—Ä–∏–º–µ—Ä—ã –æ—Ç–∑—ã–≤–æ–≤
- `UserServiceExamples` - –ø—Ä–∏–º–µ—Ä—ã —É—Å–ª—É–≥

**–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ:**
–°–æ–∑–¥–∞—Ç—å –µ–¥–∏–Ω—É—é —Ç–∞–±–ª–∏—Ü—É `UserContentExamples`:
```sql
CREATE TABLE UserContentExamples (
    id TEXT PRIMARY KEY,
    user_id TEXT NOT NULL,
    business_id TEXT,
    content_type TEXT NOT NULL, -- 'news', 'review', 'service'
    example_text TEXT NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES Users (id) ON DELETE CASCADE,
    FOREIGN KEY (business_id) REFERENCES Businesses (id) ON DELETE CASCADE
)
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –£–º–µ–Ω—å—à–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–∞–±–ª–∏—Ü —Å 3 –¥–æ 1
- –ï–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏
- –ü—Ä–æ—â–µ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ç–∏–ø—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞

### 2. –£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–∞–±–ª–∏—Ü—ã

**–ú–æ–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ —É–¥–∞–ª–∏—Ç—å:**
- `GigaChatTokenUsage` - –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–¥–µ
- `UserTokenAccess` - –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–¥–µ
- `UserLoginHistory` - –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–¥–µ
- `YandexBusinessStats` - –¥—É–±–ª–∏—Ä—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª MapParseResults

### 3. –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ legacy —Ç–∞–±–ª–∏—Ü

**Cards ‚Üí MapParseResults:**
- –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞—Ä—ã–µ –æ—Ç—á—ë—Ç—ã –≤ –Ω–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É
- –£–¥–∞–ª–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É Cards –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏

**ClientInfo ‚Üí Businesses:**
- –î–∞–Ω–Ω—ã–µ —É–∂–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –≤ Businesses
- –£–¥–∞–ª–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É ClientInfo –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

### 4. –†–µ–∑—É–ª—å—Ç–∞—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

**–ë—ã–ª–æ:** 25 —Ç–∞–±–ª–∏—Ü
**–°—Ç–∞–Ω–µ—Ç:** ~18 —Ç–∞–±–ª–∏—Ü (–ø–æ—Å–ª–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è –∏ —É–¥–∞–ª–µ–Ω–∏—è)

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
1. Users
2. Businesses
3. UserSessions
4. UserServices
5. FinancialTransactions
6. FinancialMetrics
7. ROIData
8. ParseQueue
9. MapParseResults
10. BusinessMapLinks
11. Networks
12. Masters
13. TelegramBindTokens
14. BusinessOptimizationWizard
15. PricelistOptimizations
16. UserNews
17. UserContentExamples (–æ–±—ä–µ–¥–∏–Ω—ë–Ω–Ω–∞—è)
18. (–≤–æ–∑–º–æ–∂–Ω–æ –¥—Ä—É–≥–∏–µ –∞–∫—Ç–∏–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã)

## –ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

1. ‚úÖ –°–æ–∑–¥–∞—Ç—å –µ–¥–∏–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ë–î (`init_database_schema.py`)
2. ‚úÖ –£–±—Ä–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü "–Ω–∞ –ª–µ—Ç—É" –∏–∑ `main.py`
3. ‚è≥ –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü –ø—Ä–∏–º–µ—Ä–æ–≤
4. ‚è≥ –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Ç–∞–±–ª–∏—Ü
5. ‚è≥ –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ Cards –≤ MapParseResults
6. ‚è≥ –£–¥–∞–ª–∏—Ç—å ClientInfo –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

