# Команды для обновления проекта на сервере

## Путь к проекту
cd /root/mapsparser-Replit-front

## 1. Обновить код из GitHub
git checkout -- frontend/dist/index.html 2>/dev/null || true
git pull origin main

## 2. Установить зависимости (если нужно)
source venv/bin/activate
pip install -q googlemaps>=4.10.0

## 3. Пересобрать фронтенд
cd frontend && npm run build && cd ..

## 4. Перезапустить Flask сервер
pkill -f 'python.*main.py' 2>/dev/null
sleep 2
nohup python src/main.py > /tmp/seo_main.out 2>&1 &

## 5. Проверить запуск
sleep 3
lsof -iTCP:8000 -sTCP:LISTEN
tail -15 /tmp/seo_main.out

## 6. Перезапустить worker (если используется)
systemctl restart seo-worker
systemctl status seo-worker --no-pager | head -10

