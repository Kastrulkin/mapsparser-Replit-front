# –ó–∞–¥–∞—á–∞: –†–æ—Ç–∞—Ü–∏—è IP-–∞–¥—Ä–µ—Å–æ–≤ –¥–ª—è –æ–±—Ö–æ–¥–∞ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –Ø–Ω–¥–µ–∫—Å

**–î–∞—Ç–∞:** 2025-01-03  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π  
**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:** –ö–æ–¥–µ—Ä

---

## –ü—Ä–æ–±–ª–µ–º–∞

–Ø–Ω–¥–µ–∫—Å –º–æ–∂–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å IP-–∞–¥—Ä–µ—Å–∞ –ø—Ä–∏ —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö –ø–∞—Ä—Å–∏–Ω–≥–∞:
- –ö–∞–ø—á–∞
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ IP
- Rate limiting
- –ë–∞–Ω –∞–∫–∫–∞—É–Ω—Ç–∞

–ù—É–∂–Ω–∞ —Ä–æ—Ç–∞—Ü–∏—è IP-–∞–¥—Ä–µ—Å–æ–≤ –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏ –∏ –æ–±—Ö–æ–¥–∞ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫.

---

## –†–µ—à–µ–Ω–∏–µ

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É —Ä–æ—Ç–∞—Ü–∏–∏ –ø—Ä–æ–∫—Å–∏ –¥–ª—è Playwright –∏ requests:
1. –•—Ä–∞–Ω–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø—Ä–æ–∫—Å–∏ (–ë–î –∏–ª–∏ –∫–æ–Ω—Ñ–∏–≥)
2. –†–æ—Ç–∞—Ü–∏—è –ø—Ä–æ–∫—Å–∏ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –ø—Ä–æ–∫—Å–∏
4. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –Ω–µ—Ä–∞–±–æ—Ç–∞—é—â–∏—Ö –ø—Ä–æ–∫—Å–∏

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä—ã (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ IP
- –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–∑–∏–¥–µ–Ω—Ç–Ω—ã–µ –ø—Ä–æ–∫—Å–∏ (–º–µ–Ω—å—à–µ –±–∞–Ω–æ–≤)
- –†–æ—Ç–∞—Ü–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –∑–∞–ø—Ä–æ—Å–æ–≤

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- –¢—Ä–µ–±—É–µ—Ç –ø–æ–∫—É–ø–∫–∏/–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–∫—Å–∏
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –¢–∞–±–ª–∏—Ü–∞ `ProxyServers` –≤ –ë–î
- –†–æ—Ç–∞—Ü–∏—è —á–µ—Ä–µ–∑ Playwright `proxy` –ø–∞—Ä–∞–º–µ—Ç—Ä
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º

---

#### –í–∞—Ä–∏–∞–Ω—Ç 2: VPN —Ä–æ—Ç–∞—Ü–∏—è (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ü—Ä–æ—â–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å VPN —Å–µ—Ä–≤–µ—Ä)
- –ú–µ–Ω—å—à–µ —Ä–∞—Å—Ö–æ–¥–æ–≤

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- –ú–µ–¥–ª–µ–Ω–Ω–µ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ IP
- –ú–µ–Ω—å—à–µ –∫–æ–Ω—Ç—Ä–æ–ª—è

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ VPN –ø–µ—Ä–µ–¥ –∑–∞–ø—Ä–æ—Å–∞–º–∏ (—á–µ—Ä–µ–∑ API VPN –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞)
- –ú–µ–¥–ª–µ–Ω–Ω–µ–µ, –Ω–æ –ø—Ä–æ—â–µ

---

#### –í–∞—Ä–∏–∞–Ω—Ç 3: Tor —Ä–æ—Ç–∞—Ü–∏—è (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ë–µ—Å–ø–ª–∞—Ç–Ω–æ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–æ—Ç–∞—Ü–∏—è

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- –û—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–æ
- –Ø–Ω–¥–µ–∫—Å –º–æ–∂–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å Tor IP
- –ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

---

## –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ: –ü—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä—ã

### –í–∞—Ä–∏–∞–Ω—Ç—ã –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–æ–∫—Å–∏:

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü–æ–∫—É–ø–∫–∞ —Ä–µ–∑–∏–¥–µ–Ω—Ç–Ω—ã—Ö –ø—Ä–æ–∫—Å–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**–ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã:**
- **Bright Data (Luminati)** - –æ—Ç $500/–º–µ—Å—è—Ü, —Ä–µ–∑–∏–¥–µ–Ω—Ç–Ω—ã–µ –ø—Ä–æ–∫—Å–∏
- **Smartproxy** - –æ—Ç $75/–º–µ—Å—è—Ü, —Ä–µ–∑–∏–¥–µ–Ω—Ç–Ω—ã–µ –ø—Ä–æ–∫—Å–∏
- **Oxylabs** - –æ—Ç $300/–º–µ—Å—è—Ü, —Ä–µ–∑–∏–¥–µ–Ω—Ç–Ω—ã–µ –ø—Ä–æ–∫—Å–∏
- **IPRoyal** - –æ—Ç $7/GB, —Ä–µ–∑–∏–¥–µ–Ω—Ç–Ω—ã–µ –ø—Ä–æ–∫—Å–∏

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –†–µ–∑–∏–¥–µ–Ω—Ç–Ω—ã–µ IP (–º–µ–Ω—å—à–µ –±–∞–Ω–æ–≤)
- –í—ã—Å–æ–∫–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å
- –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- –î–æ—Ä–æ–≥–æ (–æ—Ç $75/–º–µ—Å—è—Ü)
- –ù—É–∂–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–∫–∫–∞—É–Ω—Ç–∞

---

#### –í–∞—Ä–∏–∞–Ω—Ç 2: –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ø—Ä–æ–∫—Å–∏-–ª–∏—Å—Ç—ã (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

**–ò—Å—Ç–æ—á–Ω–∏–∫–∏:**
- **Free Proxy List** (free-proxy-list.net)
- **ProxyScrape** (proxyscrape.com)
- **ProxyList** (proxylist.geonode.com)

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ë–µ—Å–ø–ª–∞—Ç–Ω–æ
- –ë—ã—Å—Ç—Ä–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- –ù–∏–∑–∫–∞—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å (–º–Ω–æ–≥–∏–µ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç)
- –ú–µ–¥–ª–µ–Ω–Ω–æ
- –ß–∞—Å—Ç—ã–µ –±–∞–Ω—ã
- –ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

---

#### –í–∞—Ä–∏–∞–Ω—Ç 3: –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä—ã (–¥–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤)

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞:**
- –ê—Ä–µ–Ω–¥–æ–≤–∞—Ç—å VPS —Å–µ—Ä–≤–µ—Ä—ã –≤ —Ä–∞–∑–Ω—ã—Ö –ª–æ–∫–∞—Ü–∏—è—Ö
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä (Squid, 3proxy)
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–æ—Ç–∞—Ü–∏—é

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å
- –ú–æ–∂–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- –¢—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏
- –î–æ—Ä–æ–∂–µ –ø—Ä–∏ –º–∞–ª—ã—Ö –æ–±—ä–µ–º–∞—Ö

---

#### –í–∞—Ä–∏–∞–Ω—Ç 4: VPN API —Ä–æ—Ç–∞—Ü–∏—è (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)

**–ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã:**
- **NordLayer API** - —Ä–æ—Ç–∞—Ü–∏—è IP —á–µ—Ä–µ–∑ VPN
- **Surfshark API** - —Ä–æ—Ç–∞—Ü–∏—è IP —á–µ—Ä–µ–∑ VPN

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ü—Ä–æ—â–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- –ú–µ–Ω—å—à–µ —Ä–∞—Å—Ö–æ–¥–æ–≤

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- –ú–µ–¥–ª–µ–Ω–Ω–µ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ IP
- –ú–µ–Ω—å—à–µ –∫–æ–Ω—Ç—Ä–æ–ª—è

---

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:

**–î–ª—è –Ω–∞—á–∞–ª–∞:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ø—Ä–æ–∫—Å–∏-–ª–∏—Å—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
**–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:** –ü–æ–∫—É–ø–∫–∞ —Ä–µ–∑–∏–¥–µ–Ω—Ç–Ω—ã—Ö –ø—Ä–æ–∫—Å–∏ (Smartproxy –∏–ª–∏ IPRoyal - –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Ü–µ–Ω–∞/–∫–∞—á–µ—Å—Ç–≤–æ)

---

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î

**–¢–∞–±–ª–∏—Ü–∞ `ProxyServers`:**

```sql
CREATE TABLE ProxyServers (
    id TEXT PRIMARY KEY,
    proxy_type TEXT NOT NULL,  -- 'http', 'socks5', 'socks4'
    host TEXT NOT NULL,
    port INTEGER NOT NULL,
    username TEXT,  -- –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
    password TEXT,  -- –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–∑–∞—à–∏—Ñ—Ä–æ–≤–∞—Ç—å)
    is_active INTEGER DEFAULT 1,
    last_used_at TIMESTAMP,
    last_checked_at TIMESTAMP,
    success_count INTEGER DEFAULT 0,
    failure_count INTEGER DEFAULT 0,
    is_working INTEGER DEFAULT 1,  -- 1 = —Ä–∞–±–æ—Ç–∞–µ—Ç, 0 = –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX idx_proxy_servers_active ON ProxyServers(is_active, is_working);
CREATE INDEX idx_proxy_servers_last_used ON ProxyServers(last_used_at);
```

**–§–æ—Ä–º–∞—Ç –ø—Ä–æ–∫—Å–∏:**
- HTTP: `http://username:password@host:port`
- SOCKS5: `socks5://username:password@host:port`

---

## –ü–ª–∞–Ω –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –≠—Ç–∞–ø 1: –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã ProxyServers

**–§–∞–π–ª:** `src/init_database_schema.py`

**–î–æ–±–∞–≤–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã:**

```python
# ProxyServers - —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä–æ–≤ –¥–ª—è —Ä–æ—Ç–∞—Ü–∏–∏ IP
cursor.execute("""
    CREATE TABLE IF NOT EXISTS ProxyServers (
        id TEXT PRIMARY KEY,
        proxy_type TEXT NOT NULL,
        host TEXT NOT NULL,
        port INTEGER NOT NULL,
        username TEXT,
        password TEXT,  -- TODO: –∑–∞—à–∏—Ñ—Ä–æ–≤–∞—Ç—å
        is_active INTEGER DEFAULT 1,
        last_used_at TIMESTAMP,
        last_checked_at TIMESTAMP,
        success_count INTEGER DEFAULT 0,
        failure_count INTEGER DEFAULT 0,
        is_working INTEGER DEFAULT 1,
        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
    )
""")
print("‚úÖ –¢–∞–±–ª–∏—Ü–∞ ProxyServers —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞")

cursor.execute("CREATE INDEX IF NOT EXISTS idx_proxy_servers_active ON ProxyServers(is_active, is_working)")
cursor.execute("CREATE INDEX IF NOT EXISTS idx_proxy_servers_last_used ON ProxyServers(last_used_at)")
```

---

### –≠—Ç–∞–ø 2: –°–æ–∑–¥–∞–Ω–∏–µ –º–æ–¥—É–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–∫—Å–∏

**–§–∞–π–ª:** `src/proxy_manager.py` (—Å–æ–∑–¥–∞—Ç—å)

```python
"""
–ú–æ–¥—É–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä–∞–º–∏ –¥–ª—è —Ä–æ—Ç–∞—Ü–∏–∏ IP
"""
# –í–ê–ñ–ù–û: –¢–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏–º–ø–æ—Ä—Ç—ã (—Å–º. —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —É–ø—Ä–æ—Å—Ç–∏—Ç–µ–ª—è –≤ SIMPLIFICATION.md)
from typing import Optional, Dict, Any
from safe_db_utils import get_db_connection
# –ù–ï –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å random, time, datetime, timedelta - –æ–Ω–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è


class ProxyManager:
    """–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä–∞–º–∏"""
    
    def __init__(self):
        # –í–ê–ñ–ù–û: –¢–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ–ª—è (—Å–º. —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —É–ø—Ä–æ—Å—Ç–∏—Ç–µ–ª—è –≤ SIMPLIFICATION.md)
        self.current_proxy: Optional[Dict[str, Any]] = None
        # –ù–ï –¥–æ–±–∞–≤–ª—è—Ç—å proxy_cache –∏ cache_ttl - –æ–Ω–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è
    
    def get_next_proxy(self) -> Optional[Dict[str, Any]]:
        """
        –ü–æ–ª—É—á–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞–±–æ—á–∏–π –ø—Ä–æ–∫—Å–∏ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.
        –ò—Å–ø–æ–ª—å–∑—É–µ—Ç round-robin —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º –Ω–∞ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ.
        """
        conn = get_db_connection()
        cursor = conn.cursor()
        
        try:
            # –ü–æ–ª—É—á–∞–µ–º —Ä–∞–±–æ—á–∏–µ –ø—Ä–æ–∫—Å–∏, –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ –ø–æ—Å–ª–µ–¥–Ω–µ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
            cursor.execute("""
                SELECT id, proxy_type, host, port, username, password
                FROM ProxyServers
                WHERE is_active = 1 AND is_working = 1
                ORDER BY 
                    CASE WHEN last_used_at IS NULL THEN 0 ELSE 1 END,
                    last_used_at ASC,
                    RANDOM()
                LIMIT 1
            """)
            
            row = cursor.fetchone()
            if not row:
                print("‚ö†Ô∏è –ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø—Ä–æ–∫—Å–∏, –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø")
                return None
            
            proxy_id, proxy_type, host, port, username, password = row
            
            # –§–æ—Ä–º–∏—Ä—É–µ–º URL –ø—Ä–æ–∫—Å–∏
            if username and password:
                proxy_url = f"{proxy_type}://{username}:{password}@{host}:{port}"
            else:
                proxy_url = f"{proxy_type}://{host}:{port}"
            
            # –û–±–Ω–æ–≤–ª—è–µ–º last_used_at
            cursor.execute("""
                UPDATE ProxyServers 
                SET last_used_at = CURRENT_TIMESTAMP,
                    updated_at = CURRENT_TIMESTAMP
                WHERE id = ?
            """, (proxy_id,))
            conn.commit()
            
            proxy_dict = {
                "server": proxy_url,
                "id": proxy_id,
                "type": proxy_type,
                "host": host,
                "port": port
            }
            
            self.current_proxy = proxy_dict
            print(f"‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–æ–∫—Å–∏: {host}:{port} (ID: {proxy_id})")
            
            return proxy_dict
            
        finally:
            cursor.close()
            conn.close()
    
    def mark_proxy_success(self, proxy_id: str):
        """–û—Ç–º–µ—á–∞–µ—Ç –ø—Ä–æ–∫—Å–∏ –∫–∞–∫ —É—Å–ø–µ—à–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–π"""
        conn = get_db_connection()
        cursor = conn.cursor()
        
        try:
            cursor.execute("""
                UPDATE ProxyServers 
                SET success_count = success_count + 1,
                    is_working = 1,
                    updated_at = CURRENT_TIMESTAMP
                WHERE id = ?
            """, (proxy_id,))
            conn.commit()
        finally:
            cursor.close()
            conn.close()
    
    def mark_proxy_failure(self, proxy_id: str, reason: str = None):
        """–û—Ç–º–µ—á–∞–µ—Ç –ø—Ä–æ–∫—Å–∏ –∫–∞–∫ –Ω–µ—Ä–∞–±–æ—Ç–∞—é—â–∏–π"""
        conn = get_db_connection()
        cursor = conn.cursor()
        
        try:
            cursor.execute("""
                UPDATE ProxyServers 
                SET failure_count = failure_count + 1,
                    is_working = 0,
                    updated_at = CURRENT_TIMESTAMP
                WHERE id = ?
            """, (proxy_id,))
            conn.commit()
            
            print(f"‚ö†Ô∏è –ü—Ä–æ–∫—Å–∏ {proxy_id} –ø–æ–º–µ—á–µ–Ω –∫–∞–∫ –Ω–µ—Ä–∞–±–æ—Ç–∞—é—â–∏–π: {reason}")
        finally:
            cursor.close()
            conn.close()
    
    def check_proxy(self, proxy_dict: Dict[str, Any]) -> bool:
        """
        –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –ø—Ä–æ–∫—Å–∏.
        –î–µ–ª–∞–µ—Ç —Ç–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å –∫ –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç–∞–º.
        """
        try:
            import requests
            
            test_url = "https://yandex.ru/maps"
            proxies = {
                "http": proxy_dict["server"],
                "https": proxy_dict["server"]
            }
            
            response = requests.get(
                test_url,
                proxies=proxies,
                timeout=10
            )
            
            if response.status_code == 200:
                return True
            return False
            
        except Exception as e:
            print(f"‚ö†Ô∏è –û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–∫—Å–∏ {proxy_dict.get('id')}: {e}")
            return False
    
    def get_proxy_for_playwright(self, proxy_dict: Optional[Dict[str, Any]]) -> Optional[Dict[str, str]]:
        """
        –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –ø—Ä–æ–∫—Å–∏ –≤ —Ñ–æ—Ä–º–∞—Ç –¥–ª—è Playwright.
        
        Returns:
            {
                "server": "http://host:port",
                "username": "user",  # –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
                "password": "pass"   # –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
            }
        """
        if not proxy_dict:
            return None
        
        playwright_proxy = {
            "server": f"{proxy_dict['type']}://{proxy_dict['host']}:{proxy_dict['port']}"
        }
        
        # –ò–∑–≤–ª–µ–∫–∞–µ–º username/password –∏–∑ server URL –µ—Å–ª–∏ –µ—Å—Ç—å
        server_url = proxy_dict["server"]
        if "@" in server_url:
            # –§–æ—Ä–º–∞—Ç: http://user:pass@host:port
            parts = server_url.split("@")
            if len(parts) == 2:
                auth_part = parts[0].split("://")[1]
                if ":" in auth_part:
                    username, password = auth_part.split(":", 1)
                    playwright_proxy["username"] = username
                    playwright_proxy["password"] = password
        
        return playwright_proxy
```

---

### –≠—Ç–∞–ø 3: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø—Ä–æ–∫—Å–∏ –≤ parser_interception.py

**–§–∞–π–ª:** `src/parser_interception.py`

**–í–ê–ñ–ù–û: –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —É–ø—Ä–æ—Å—Ç–∏—Ç–µ–ª—è (—Å–º. SIMPLIFICATION.md):**
- –°–æ–∑–¥–∞—Ç—å –º–∞–ª–µ–Ω—å–∫–∏–π helper `get_playwright_proxy_or_none()` –≤–º–µ—Å—Ç–æ —Ä–∞–∑–º–∞–∑–∞–Ω–Ω–æ–π –ª–æ–≥–∏–∫–∏
- –ß–µ—Ç–∫–∏–π early-return: "–Ω–µ—Ç –ø—Ä–æ–∫—Å–∏ ‚Üí —Ä–∞–±–æ—Ç–∞–µ–º –±–µ–∑ –Ω–∏—Ö, –Ω–∏–∫–∞–∫–∏—Ö –¥–æ–ø. –≤–µ—Ç–æ–∫"

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

```python
from proxy_manager import ProxyManager

def get_playwright_proxy_or_none(proxy_manager: ProxyManager) -> Optional[Dict[str, str]]:
    """
    –ü–æ–ª—É—á–∞–µ—Ç –ø—Ä–æ–∫—Å–∏ –¥–ª—è Playwright –∏–ª–∏ None.
    –ü—Ä–æ—Å—Ç–æ–π helper –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è —Ä–∞–∑–º–∞–∑–∞–Ω–Ω–æ–π –ª–æ–≥–∏–∫–∏.
    """
    proxy_dict = proxy_manager.get_next_proxy()
    if not proxy_dict:
        return None
    
    return proxy_manager.get_proxy_for_playwright(proxy_dict)

class YandexMapsInterceptionParser:
    def __init__(self, proxy_manager: ProxyManager = None):
        self.api_responses = {}
        self.org_id = None
        self.proxy_manager = proxy_manager or ProxyManager()
    
    def parse_yandex_card(self, url: str) -> Dict[str, Any]:
        # –ü–æ–ª—É—á–∞–µ–º –ø—Ä–æ–∫—Å–∏ —á–µ—Ä–µ–∑ helper (early-return –µ—Å–ª–∏ –Ω–µ—Ç)
        playwright_proxy = get_playwright_proxy_or_none(self.proxy_manager)
        
        # ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ ...
        
        with sync_playwright() as p:
            try:
                browser = p.chromium.launch(
                    headless=True,
                    args=[
                        '--no-sandbox',
                        '--disable-setuid-sandbox',
                        '--disable-dev-shm-usage',
                        '--disable-gpu',
                        '--disable-images',
                    ]
                )
                
                # –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç: –ø—Ä–æ–∫—Å–∏ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (early-return)
                context_options = {
                    'user_agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36',
                    'viewport': {'width': 1920, 'height': 1080},
                }
                
                if playwright_proxy:
                    context_options['proxy'] = playwright_proxy
                    print(f"üåê –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–æ–∫—Å–∏: {playwright_proxy.get('server', 'unknown')}")
                
                context = browser.new_context(**context_options)
                
                # ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ ...
                
                # –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞
                if proxy_dict:
                    self.proxy_manager.mark_proxy_success(proxy_dict['id'])
                
            except Exception as e:
                # –ü—Ä–∏ –æ—à–∏–±–∫–µ –æ—Ç–º–µ—á–∞–µ–º –ø—Ä–æ–∫—Å–∏ –∫–∞–∫ –Ω–µ—Ä–∞–±–æ—Ç–∞—é—â–∏–π
                if proxy_dict and "proxy" in str(e).lower():
                    self.proxy_manager.mark_proxy_failure(proxy_dict['id'], str(e))
                raise
```

---

### –≠—Ç–∞–ø 4: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø—Ä–æ–∫—Å–∏ –≤ parser.py

**–§–∞–π–ª:** `src/parser.py`

**–í–ê–ñ–ù–û: –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —É–ø—Ä–æ—Å—Ç–∏—Ç–µ–ª—è (—Å–º. SIMPLIFICATION.md):**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ—Ç –∂–µ helper `get_playwright_proxy_or_none()` –¥–ª—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏—è
- –ß–µ—Ç–∫–∏–π early-return: "–Ω–µ—Ç –ø—Ä–æ–∫—Å–∏ ‚Üí —Ä–∞–±–æ—Ç–∞–µ–º –±–µ–∑ –Ω–∏—Ö"

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

```python
from proxy_manager import ProxyManager, get_playwright_proxy_or_none

def parse_yandex_card(url: str) -> dict:
    # –ü–æ–ª—É—á–∞–µ–º –ø—Ä–æ–∫—Å–∏ —á–µ—Ä–µ–∑ helper (early-return –µ—Å–ª–∏ –Ω–µ—Ç)
    proxy_manager = ProxyManager()
    playwright_proxy = get_playwright_proxy_or_none(proxy_manager)
    
    # ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ ...
    
    with sync_playwright() as p:
        try:
            browser, browser_name = _launch_browser(p)
            
            # –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç: –ø—Ä–æ–∫—Å–∏ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (early-return)
            context_options = {
                'user_agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36',
                'locale': 'ru-RU',
                'timezone_id': 'Europe/Moscow',
                'viewport': {'width': 1920, 'height': 1080},
                # ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –æ–ø—Ü–∏–∏ ...
            }
            
            if playwright_proxy:
                context_options['proxy'] = playwright_proxy
                print(f"üåê –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–æ–∫—Å–∏: {playwright_proxy.get('server', 'unknown')}")
            
            context = browser.new_context(**context_options)
            
            # ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ ...
            
            # –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞
            if proxy_manager.current_proxy:
                proxy_manager.mark_proxy_success(proxy_manager.current_proxy['id'])
            
        except Exception as e:
            # –ü—Ä–∏ –æ—à–∏–±–∫–µ –æ—Ç–º–µ—á–∞–µ–º –ø—Ä–æ–∫—Å–∏ –∫–∞–∫ –Ω–µ—Ä–∞–±–æ—Ç–∞—é—â–∏–π
            if proxy_manager.current_proxy and "proxy" in str(e).lower():
                proxy_manager.mark_proxy_failure(proxy_manager.current_proxy['id'], str(e))
            raise
```

---

### –≠—Ç–∞–ø 5: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø—Ä–æ–∫—Å–∏ –≤ yandex_business_parser.py

**–§–∞–π–ª:** `src/yandex_business_parser.py`

**–î–ª—è requests —Å–µ—Å—Å–∏–∏:**

```python
from proxy_manager import ProxyManager

class YandexBusinessParser:
    def __init__(self, auth_data: Dict[str, Any], proxy_manager: ProxyManager = None):
        # ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ ...
        self.proxy_manager = proxy_manager or ProxyManager()
        self.current_proxy = None
    
    def _make_request(self, url: str, method: str = "GET", params: Optional[Dict[str, Any]] = None, **kwargs) -> Optional[Dict[str, Any]]:
        # –ü–æ–ª—É—á–∞–µ–º –ø—Ä–æ–∫—Å–∏
        proxy_dict = self.proxy_manager.get_next_proxy()
        self.current_proxy = proxy_dict
        
        # ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ ...
        
        # –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –ø—Ä–æ–∫—Å–∏ –¥–ª—è requests
        if proxy_dict:
            proxies = {
                "http": proxy_dict["server"],
                "https": proxy_dict["server"]
            }
            kwargs["proxies"] = proxies
        
        response = self.session.request(
            method,
            url,
            headers=headers,
            params=params,
            timeout=30,
            **kwargs,
        )
        
        # –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
        if proxy_dict and response.status_code == 200:
            self.proxy_manager.mark_proxy_success(proxy_dict['id'])
        
        return response.json() if response.status_code == 200 else None
```

---

### –≠—Ç–∞–ø 6: –°–æ–∑–¥–∞–Ω–∏–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–∫—Å–∏

**–§–∞–π–ª:** `src/main.py`

**–≠–Ω–¥–ø–æ–∏–Ω—Ç—ã:**

```python
@app.route('/api/admin/proxies', methods=['GET'])
def get_proxies():
    """–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–∫—Å–∏"""
    # ... –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è ...
    
    db = DatabaseManager()
    cursor = db.conn.cursor()
    cursor.execute("""
        SELECT id, proxy_type, host, port, is_active, is_working, 
               success_count, failure_count, last_used_at, last_checked_at
        FROM ProxyServers
        ORDER BY created_at DESC
    """)
    
    proxies = []
    for row in cursor.fetchall():
        proxies.append({
            "id": row[0],
            "type": row[1],
            "host": row[2],
            "port": row[3],
            "is_active": bool(row[4]),
            "is_working": bool(row[5]),
            "success_count": row[6],
            "failure_count": row[7],
            "last_used_at": row[8],
            "last_checked_at": row[9]
        })
    
    db.close()
    return jsonify({"proxies": proxies})

@app.route('/api/admin/proxies', methods=['POST'])
def add_proxy():
    """–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–∫—Å–∏"""
    # ... –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ —Å—É–ø–µ—Ä–∞–¥–º–∏–Ω–∞ ...
    
    data = request.json
    proxy_id = str(uuid.uuid4())
    
    db = DatabaseManager()
    cursor = db.conn.cursor()
    cursor.execute("""
        INSERT INTO ProxyServers (
            id, proxy_type, host, port, username, password,
            is_active, is_working, created_at, updated_at
        )
        VALUES (?, ?, ?, ?, ?, ?, 1, 1, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP)
    """, (
        proxy_id,
        data.get('type', 'http'),
        data['host'],
        data['port'],
        data.get('username'),
        data.get('password')  # TODO: –∑–∞—à–∏—Ñ—Ä–æ–≤–∞—Ç—å
    ))
    db.conn.commit()
    db.close()
    
    return jsonify({"success": True, "proxy_id": proxy_id})

@app.route('/api/admin/proxies/<proxy_id>', methods=['DELETE'])
def delete_proxy(proxy_id):
    """–£–¥–∞–ª–∏—Ç—å –ø—Ä–æ–∫—Å–∏"""
    # ... –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è ...
    
    db = DatabaseManager()
    cursor = db.conn.cursor()
    cursor.execute("DELETE FROM ProxyServers WHERE id = ?", (proxy_id,))
    db.conn.commit()
    db.close()
    
    return jsonify({"success": True})
```

---

## –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

1. **–°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É ProxyServers** –≤ `init_database_schema.py`
2. **–°–æ–∑–¥–∞—Ç—å –º–æ–¥—É–ª—å `proxy_manager.py`** —Å –∫–ª–∞—Å—Å–æ–º `ProxyManager`
3. **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∫—Å–∏ –≤ –ø–∞—Ä—Å–µ—Ä—ã:**
   - `parser_interception.py`
   - `parser.py`
   - `yandex_business_parser.py`
4. **–°–æ–∑–¥–∞—Ç—å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–∫—Å–∏
5. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**
   - –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –ø—Ä–æ–∫—Å–∏
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–æ—Ç–∞—Ü–∏—é
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫

---

## –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è –∫–æ–¥–µ—Ä–∞

- [ ] –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É `ProxyServers` –≤ `init_database_schema.py`
- [ ] –°–æ–∑–¥–∞—Ç—å –º–æ–¥—É–ª—å `src/proxy_manager.py` —Å –∫–ª–∞—Å—Å–æ–º `ProxyManager`:
  - **–í–ê–ñ–ù–û:** –¢–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏–º–ø–æ—Ä—Ç—ã (typing, safe_db_utils) - —Å–º. —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —É–ø—Ä–æ—Å—Ç–∏—Ç–µ–ª—è –≤ SIMPLIFICATION.md
  - **–í–ê–ñ–ù–û:** –¢–æ–ª—å–∫–æ –ø–æ–ª–µ `current_proxy` (–±–µ–∑ proxy_cache, cache_ttl)
  - –°–æ–∑–¥–∞—Ç—å helper `get_playwright_proxy_or_none()` –¥–ª—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏—è
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∫—Å–∏ –≤ `parser_interception.py`:
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å helper `get_playwright_proxy_or_none()`
  - Early-return –µ—Å–ª–∏ –Ω–µ—Ç –ø—Ä–æ–∫—Å–∏ (–Ω–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ª–∏—à–Ω–∏—Ö –≤–µ—Ç–æ–∫)
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∫—Å–∏ –≤ `parser.py`:
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ—Ç –∂–µ helper –¥–ª—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏—è
  - Early-return –µ—Å–ª–∏ –Ω–µ—Ç –ø—Ä–æ–∫—Å–∏
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∫—Å–∏ –≤ `yandex_business_parser.py`:
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `ProxyManager` –¥–ª—è requests —Å–µ—Å—Å–∏–∏
  - Early-return –µ—Å–ª–∏ –Ω–µ—Ç –ø—Ä–æ–∫—Å–∏
- [ ] –°–æ–∑–¥–∞—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–∫—Å–∏ –≤ `main.py`
- [ ] –°–æ–∑–¥–∞—Ç—å UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `ProxyManagement.tsx` (—Å–º. `FRONTEND_TASK_PROXY_UI.md`)
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–æ—Ç–∞—Ü–∏—é –ø—Ä–æ–∫—Å–∏
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –Ω–µ—Ä–∞–±–æ—Ç–∞—é—â–∏—Ö –ø—Ä–æ–∫—Å–∏

---

## –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ–∫—Å–∏:**
   - **–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ø—Ä–æ–∫—Å–∏-–ª–∏—Å—Ç—ã (Free Proxy List, ProxyScrape)
   - **–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:** –ü–æ–∫—É–ø–∫–∞ —Ä–µ–∑–∏–¥–µ–Ω—Ç–Ω—ã—Ö –ø—Ä–æ–∫—Å–∏ (Smartproxy, IPRoyal, Bright Data)
   - **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:** VPN API —Ä–æ—Ç–∞—Ü–∏—è (NordLayer, Surfshark) - –º–µ–¥–ª–µ–Ω–Ω–µ–µ, –Ω–æ –ø—Ä–æ—â–µ

2. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
   - –ü–∞—Ä–æ–ª–∏ –ø—Ä–æ–∫—Å–∏ –Ω—É–∂–Ω–æ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞—Ç—å (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `auth_encryption.py`)
   - –ù–µ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–æ–ª–∏
   - –•—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ–∫—Å–∏ –≤ –ë–î —Å —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ–º

3. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
   - –ü—Ä–æ–∫—Å–∏ –º–æ–≥—É—Ç –∑–∞–º–µ–¥–ª–∏—Ç—å –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ 10-20%
   - –†–µ–∑–∏–¥–µ–Ω—Ç–Ω—ã–µ –ø—Ä–æ–∫—Å–∏ –±—ã—Å—Ç—Ä–µ–µ –∏ –Ω–∞–¥–µ–∂–Ω–µ–µ
   - –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ø—Ä–æ–∫—Å–∏ —á–∞—Å—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç –∏–ª–∏ –æ—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω—ã–µ

4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
   - –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å `success_count` –∏ `failure_count`
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–∫–ª—é—á–∞—Ç—å –Ω–µ—Ä–∞–±–æ—Ç–∞—é—â–∏–µ –ø—Ä–æ–∫—Å–∏
   - –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º

5. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–∫—Å–∏:**
   - –î–æ–±–∞–≤–ª—è—Ç—å –ø—Ä–æ–∫—Å–∏ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (`/api/admin/proxies`)
   - –§–æ—Ä–º–∞—Ç: `http://username:password@host:port` –∏–ª–∏ `socks5://username:password@host:port`
   - –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–∫—Å–∏ –¥–ª—è —Ä–æ—Ç–∞—Ü–∏–∏

---

## –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

**–ü–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–æ—Ç–∞—Ü–∏—è IP-–∞–¥—Ä–µ—Å–æ–≤ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
- –ú–µ–Ω—å—à–µ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –∏ –∫–∞–ø—á–∏ –æ—Ç –Ø–Ω–¥–µ–∫—Å
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –º–µ–∂–¥—É –ø—Ä–æ–∫—Å–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –Ω–µ—Ä–∞–±–æ—Ç–∞—é—â–∏—Ö –ø—Ä–æ–∫—Å–∏
- –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–∫—Å–∏

