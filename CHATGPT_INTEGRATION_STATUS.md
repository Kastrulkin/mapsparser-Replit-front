# –°—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ ChatGPT –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

> üìã **–ü–æ–¥—Ä–æ–±–Ω—ã–π –ø–ª–∞–Ω –¥–æ—Ä–∞–±–æ—Ç–∫–∏:** –°–º. [CHATGPT_APP_STORE_ROADMAP.md](./CHATGPT_APP_STORE_ROADMAP.md)

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### –§–∞–∑–∞ 1: –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–î–µ–Ω—å 1-5)
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î: —Ä–∞—Å—à–∏—Ä–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ Businesses (20 –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π)
- ‚úÖ –°–æ–∑–¥–∞–Ω—ã —Ç–∞–±–ª–∏—Ü—ã: Bookings, StripePayments, CRMIntegrations
- ‚úÖ –£—Ç–∏–ª–∏—Ç–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞ —á–µ—Ä–µ–∑ Google Maps API
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Å–æ–∑–¥–∞–Ω–∏–µ–º –±–∏–∑–Ω–µ—Å–∞
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –±–∏–∑–Ω–µ—Å–∞ —Å –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞
- ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Telegram –±–æ—Ç–∞
- ‚úÖ –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è WhatsApp –Ω–æ–º–µ—Ä–∞

### –ù–µ–¥–µ–ª—è 2: Stripe –∏ —Ç–∞—Ä–∏—Ñ—ã (–î–µ–Ω—å 1-3)
- ‚úÖ Stripe Checkout –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- ‚úÖ Stripe Webhook –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ (–≤—Å–µ —Å–æ–±—ã—Ç–∏—è)
- ‚úÖ –õ–æ–≥–∏–∫–∞ —Ç–∞—Ä–∏—Ñ–æ–≤ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–∞
- ‚úÖ Trial –ø–µ—Ä–∏–æ–¥ (–ø–µ—Ä–≤—ã–π –º–µ—Å—è—Ü $5 = –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø)
- ‚úÖ Grace period = 0 (–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å—Ä–∞–∑—É –ø—Ä–∏ –Ω–µ—É–ø–ª–∞—Ç–µ)
- ‚úÖ –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è —Å—É–ø–µ—Ä–∞–¥–º–∏–Ω–∞ (demyanovap@yandex.ru)

### –ù–µ–¥–µ–ª—è 3: ChatGPT API (–î–µ–Ω—å 1-5)
- ‚úÖ `/api/chatgpt/search` - –ø–æ–∏—Å–∫ —Å–∞–ª–æ–Ω–æ–≤ –ø–æ –≥–æ—Ä–æ–¥—É –∏ —É—Å–ª—É–≥–µ
- ‚úÖ `/api/chatgpt/book` - —Å–æ–∑–¥–∞–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ `/api/chatgpt/salon/<id>` - –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∞–ª–æ–Ω–µ
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ –æ–¥–æ–±—Ä–µ–Ω–Ω—ã—Ö —Å–∞–ª–æ–Ω–æ–≤ —Å –∞–∫—Ç–∏–≤–Ω–æ–π –ø–æ–¥–ø–∏—Å–∫–æ–π
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞ –ø–æ –±—é–¥–∂–µ—Ç—É

### –ù–µ–¥–µ–ª—è 4: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ –º–æ–¥–µ—Ä–∞—Ü–∏—è (–î–µ–Ω—å 1-2)
- ‚úÖ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ Bot API
- ‚úÖ WhatsApp —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ WABA
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –ú–æ–¥–µ—Ä–∞—Ü–∏—è –±–∏–∑–Ω–µ—Å–æ–≤ —Å—É–ø–µ—Ä–∞–¥–º–∏–Ω–æ–º
- ‚úÖ Endpoints –¥–ª—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏: `/api/admin/businesses/pending` –∏ `/api/admin/businesses/<id>/moderate`

## ‚è≥ –û—Å—Ç–∞–ª–æ—Å—å —Å–¥–µ–ª–∞—Ç—å

### Frontend (–ù–µ–¥–µ–ª—è 2, –î–µ–Ω—å 4-5)
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å —Å–æ–∑–¥–∞–Ω–∏–µ–º –±–∏–∑–Ω–µ—Å–∞
- [ ] –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç —Å —Ä–∞–∑–¥–µ–ª–∞–º–∏:
  - [ ] –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–∏–∑–Ω–µ—Å–µ (–∞–¥—Ä–µ—Å, –≥–æ—Ä–æ–¥, —Ä–∞–±–æ—á–∏–µ —á–∞—Å—ã)
  - [ ] –ü–æ–¥–∫–ª—é—á–µ–Ω–∏—è (Telegram, WhatsApp)
  - [ ] –¢–∞—Ä–∏—Ñ—ã –∏ –æ–ø–ª–∞—Ç–∞
  - [ ] –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (–¥–ª—è —Ç–∞—Ä–∏—Ñ–∞ $65+)
  - [ ] CRM –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (–¥–ª—è —Ç–∞—Ä–∏—Ñ–∞ $65+)

### CRM –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (–ù–µ–¥–µ–ª—è 4, –î–µ–Ω—å 3-4)
- [ ] BlissCRM –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [ ] HubSpot –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [ ] Zoho CRM –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [ ] Pipedrive –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [ ] Google Calendar –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

## üìã API Endpoints

### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –ø—Ä–æ—Ñ–∏–ª—å
- `POST /api/auth/register-with-business` - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å —Å–æ–∑–¥–∞–Ω–∏–µ–º –±–∏–∑–Ω–µ—Å–∞
- `PUT /api/business/profile` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –±–∏–∑–Ω–µ—Å–∞
- `POST /api/business/telegram/connect` - –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Telegram –±–æ—Ç–∞
- `POST /api/business/whatsapp/verify` - –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è WhatsApp

### Stripe
- `POST /api/stripe/create-checkout` - —Å–æ–∑–¥–∞–Ω–∏–µ Checkout —Å–µ—Å—Å–∏–∏
- `POST /api/stripe/webhook` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π Stripe
- `GET /api/stripe/success` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç—ã
- `GET /api/stripe/cancel` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ç–º–µ–Ω—ã –æ–ø–ª–∞—Ç—ã

### ChatGPT (–ø—É–±–ª–∏—á–Ω—ã–µ)
- `GET /api/chatgpt/search` - –ø–æ–∏—Å–∫ —Å–∞–ª–æ–Ω–æ–≤
- `POST /api/chatgpt/book` - —Å–æ–∑–¥–∞–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- `GET /api/chatgpt/salon/<id>` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∞–ª–æ–Ω–µ

### –ú–æ–¥–µ—Ä–∞—Ü–∏—è (—Å—É–ø–µ—Ä–∞–¥–º–∏–Ω)
- `GET /api/admin/businesses/pending` - —Å–ø–∏—Å–æ–∫ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏
- `POST /api/admin/businesses/<id>/moderate` - –æ–¥–æ–±—Ä–∏—Ç—å/–æ—Ç–∫–ª–æ–Ω–∏—Ç—å

## üîë –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–î–æ–±–∞–≤—å—Ç–µ –≤ `.env`:
```bash
GOOGLE_MAPS_API_KEY=your-key
STRIPE_SECRET_KEY=sk_test_...
STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...
WHATSAPP_PHONE_ID=...
WHATSAPP_ACCESS_TOKEN=...
```

## üöÄ –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

```bash
cd /root/mapsparser-Replit-front

# 1. –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥
git pull origin main

# 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
source venv/bin/activate
pip install -r requirements.txt

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é
python src/migrate_chatgpt_integration.py

# 4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
systemctl restart –≤–∞—à-flask-—Å–µ—Ä–≤–∏—Å
```

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### –¢–∞—Ä–∏—Ñ—ã
- `trial` - $5/–º–µ—Å (–ø–µ—Ä–≤—ã–π –º–µ—Å—è—Ü) - –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø
- `basic` - $5/–º–µ—Å - —Ç–æ–ª—å–∫–æ ChatGPT listing
- `pro` - $65/–º–µ—Å - ChatGPT + –õ–ö + CRM
- `enterprise` - $310/–º–µ—Å - –≤—Å—ë + —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞

### –°—Ç–∞—Ç—É—Å—ã –ø–æ–¥–ø–∏—Å–∫–∏
- `active` - –∞–∫—Ç–∏–≤–Ω–∞
- `past_due` - –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–∞
- `cancelled` - –æ—Ç–º–µ–Ω–µ–Ω–∞
- `expired` - –∏—Å—Ç–µ–∫–ª–∞

### –°—Ç–∞—Ç—É—Å—ã –º–æ–¥–µ—Ä–∞—Ü–∏–∏
- `pending` - –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏
- `approved` - –æ–¥–æ–±—Ä–µ–Ω
- `rejected` - –æ—Ç–∫–ª–æ–Ω—ë–Ω

